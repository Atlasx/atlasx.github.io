<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Connor Douglas | Hard Light</title>
  <meta name="description" content="Hard Light, a shader in Unity 5 designed based on Halo's hard light bridges.">
  <link rel="icon" type="image/png" href="/images/logo_cutout.png">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
  <link href="/css/prism.css" rel="stylesheet" type="text/css" />
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58050170-2', 'auto');
  ga('send', 'pageview');

</script>
<script>
  $(function(){
    $("#footer").load("/footer.html");
  });
</script>
</head>

<body>
  <!-- NAVBAR -->
  <nav id="navbar" class="navbar navbar-toggleable-md fixed-top" style="box-shadow: 0px 3px 5px #777;background-color:white;padding:0px;padding-left:10px;">
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#myNavbar" aria-controls="myNavbar" aria-expanded="true" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></span>
    </button>
    <a class="navbar-brand" href="http://cdouglas.io">Connor J Douglas <small>Game Developer</small></a>
    <div id="myNavbar" class="navbar-collapse collapse">
      <ul class="navbar-nav ml-auto text-center">
        <li class="nav-item">
          <a class="nav-link" href="/"><i class="fa fa-star fa-fw" aria-hidden="true"></i> Featured</a>
        </li>
        <li class="active nav-item">
          <a class="nav-link" href="/projects"><i class="fa fa-cube fa-fw" aria-hidden="true"></i> Projects</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about"><i class="fa fa-user-circle fa-fw" aria-hidden="true"></i> About Me</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/ConnorJDouglasResume.pdf"><i class="fa fa-file-text fa-fw" aria-hidden="true"></i> Resume</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/contact"><i class="fa fa-envelope fa-fw" aria-hidden="true"></i> Contact</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- NAVBAR SPACER -->
  <div class="nav-spacer"></div>

  <!-- TITLE -->
  <div class="container-fluid light-color">
    <div class="container center" style="padding:50px;">
      <h1>Hard Light <small>A shader based off of Halo 5's hard light bridges</small></h1>
    </div>
  </div>

  <!-- IMAGE -->
  <div class="container-fluid alt-light-color">
    <div class="container center" style="padding:50px;">
      <div class="row justify-content-center">
        <div class="col-md-12">
          <video src="/images/hardlight.webm" width="80%" height="auto" autoplay="true" style="border:10px;border-radius:20px;"></video>
        </div>
      </div>
    </div>
  </div>

  <!-- DESCRIPTION -->
  <div class="container-fluid light-color">
    <div class="container" style="padding:50px;">
      <p style="text-indent:50px;">
        Hard Light was a short project I made after reading <i>Unity 5.x Shaders and Effects Cookbook</i> by Alan Zucconi and Kenneth Lammers.
        The effect is an attempt to recreate Halo 5's Hard Light bridges on one of their levels. After roughly three days of reading the book and
        writing HLSL, I ended up with this product.
      </p>
    </div>
  </div>

  <!-- SHADER ELEMENTS -->
  <div class="container-fluid alt-light-color">
    <div class="container" style="padding:50px;">
      <div class="row justify-content-center" style="padding:25px;">
        <div class="col-md-8">
          <h2>Combined <small>Single channel textures combined</small></h2>
          <p>
            For this effect I had 3 single-channel textures which together comprised the full shader. I decided to compress the three textures into one
            to reduce memory usage. While this kind of optimization wasn't really needed for this scale of a project, I attempted it as a trial run
            in case I ever did need some more space.
          </p>
        </div>
        <div class="col-md-4">
          <img src="/images/hardlight_combined.png" class="rounded" width="100%;"/>
        </div>
      </div>
      <div class="row justify-content-center" style="padding:25px;">
        <div class="col-md-4">
          <img src="/images/hardlight_r.jpg" class="rounded" width="100%;"/>
        </div>
        <div class="col-md-8">
          <h2>Red Channel <small>Displacement wave pattern</small></h2>
          <p>
            The red channel was the displacement texture used to get the wavey/distorted surface of the material. To do this I applied a simple
            displacement to the UV map in both the X and Y axis so when sampling the grid texture, it would change the UV coordinates.
          </p>
        </div>
      </div>
      <div class="row justify-content-center" style="padding:25px;">
        <div class="col-md-8">
          <h2>Green Channel <small>Perlin noise</small></h2>
          <p>
            This channel was initially going to be sampled to change the speed in which the red channel was scrolling but ended up unused as
            the distortions looked better with a constant slow movement.
          </p>
        </div>
        <div class="col-md-4">
          <img src="/images/hardlight_g.png" class="rounded" width="100%;"/>
        </div>
      </div>
      <div class="row justify-content-center" style="padding:25px;">
        <div class="col-md-4">
          <img src="/images/hardlight_b.png" class="rounded" width="100%;"/>
        </div>
        <div class="col-md-8">
          <h2>Blue Channel <small>Grid texture</small></h2>
          <p>
            The grid texture was the main visual part of the compressed texture and was actually sampled twice in the final material.
            The first time, it is sampled with the displaced UVs but then for the second time, it is displaced more and its color muted
            to provide for a backing grid for the primary one to lay on.
          </p>
        </div>
      </div>
    </div>
  </div>

  <div class="container-fluid">
    <div class="container" style="padding:50px;">
      <pre>
        <code class="language-GLSL">
          Shader "Custom/Hardlight" {
          	Properties {
          		_Color ("Color", Color) = (1,1,1,1)
          		_HexTex ("Hex Texture", 2D) = "white" {}
          		_DisplaceSpeedX ("X Hex Displacement Speed", Range(0,10)) = 0.0
          		_DisplaceSpeedY ("Y Hex Displacement Speed", Range(0,10)) = 0.0
          		_SecDisplaceX ("Secondary X Displacement", Range(0,1)) = 1.0
          		_SecDisplaceY ("Secondary Y Displacement", Range(0,1)) = 1.0
          		_SecondaryMultiplier ("Secondary Hex Multiplier", Range(0,1)) = 1.0
          		_BorderSize ("Border Glow Size", Range(0, 10)) = 8.0
          		_BorderColor ("Border Glow Color", Color) = (1,1,1,1)
          	}
          	SubShader {
          		Tags { "RenderType"="Transparent" "Queue"="Transparent" "IgnoreProjector"="True" }
          		LOD 200

          		CGPROGRAM
          		// Physically based Standard lighting model, and enable shadows on all light types
          		#pragma surface surf Standard fullforwardshadows alpha:fade

          		// Use shader model 3.0 target, to get nicer looking lighting
          		#pragma target 3.0

          		sampler2D _HexTex;

          		struct Input {
          			float2 uv_HexTex;
          		};

          		fixed4 _Color;
          		fixed4 _BorderColor;
          		fixed _DisplaceSpeedX;
          		fixed _DisplaceSpeedY;
          		fixed _SecDisplaceX;
          		fixed _SecDisplaceY;
          		fixed _SecondaryMultiplier;
          		fixed _BorderSize;

          		void surf (Input IN, inout SurfaceOutputStandard o) {

          			const float PI = 3.14159;

          			fixed scrollX = _Time * _DisplaceSpeedX + IN.uv_HexTex.x;
          			fixed scrollY = _Time * _DisplaceSpeedY + IN.uv_HexTex.y;

          			float2 newUV = float2(scrollX, scrollY);

          			//Separate hex into channels
          			float4 hex = tex2D(_HexTex, newUV);
          			float r = hex.r;
          			float g = hex.g;
          			float b = hex.b;

          			float2 displaceUV = float2(r,r) * 0.1 + IN.uv_HexTex;

          			fixed4 firstHex = tex2D(_HexTex, displaceUV).b * _Color;

          			firstHex.a = r;

          			float xBorder = pow(cos(PI*displaceUV.x), _BorderSize);
          			float yBorder = pow(cos(PI*displaceUV.y), _BorderSize);

          			float dx = _SecDisplaceX + _SinTime * 0.1;
          			float dy = _SecDisplaceY + _SinTime * 0.1;

          			displaceUV += float2(dx, dy);

          			fixed4 secondHex = tex2D(_HexTex, displaceUV).b * _Color * _SecondaryMultiplier;

          			fixed4 c = firstHex + secondHex + r * _Color * 1.5;

          			fixed4 border = _BorderColor;
          			border *= (xBorder + yBorder);

          			c += border;

          			o.Albedo = c.rgb;
          			o.Alpha = c.a;
          		}
          		ENDCG
          	}
          	FallBack "Diffuse"
          }
        </code>
      </pre>
    </div>
  </div>

  <!-- FOOTER -->
  <div id="footer"></div>

</body>

<script src="/js/prism.js" data-manual></script>
<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400|Roboto+Condensed:100,300" rel="stylesheet">
<link href="/css/style.css" rel="stylesheet" type="text/css">
<script src="https://use.fontawesome.com/8f03c0c889.js"></script>

</html>
